{"ast":null,"code":"import _classCallCheck from\"C:/Dev/react/project1/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Dev/react/project1/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"C:/Dev/react/project1/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Dev/react/project1/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _objectSpread from\"C:/Dev/react/project1/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import Profile from'./Profile';import React from'react';import{connect}from'react-redux';import{getProfile,getStatus,updateStatus}from'./../../redux/profile-reducer';import{withAuthRedirect}from'./../../hoc/withAuthRedirect';import{useLocation,useNavigate,useParams}from\"react-router-dom\";import{compose}from'redux';import{jsx as _jsx}from\"react/jsx-runtime\";function withRouter(Component){function ComponentWithRouterProp(props){var location=useLocation();var navigate=useNavigate();var params=useParams();return/*#__PURE__*/_jsx(Component,_objectSpread(_objectSpread({},props),{},{router:{location:location,navigate:navigate,params:params}}));}return ComponentWithRouterProp;}var ProfileContainer=/*#__PURE__*/function(_React$Component){_inherits(ProfileContainer,_React$Component);var _super=_createSuper(ProfileContainer);function ProfileContainer(){_classCallCheck(this,ProfileContainer);return _super.apply(this,arguments);}_createClass(ProfileContainer,[{key:\"componentDidMount\",value:function componentDidMount(){var profileId=this.props.router.params.userId;if(!profileId){profileId=this.props.userId;//if(!profileId) {\n//    window.location.href = window.location.protocol+ \"//\" + window.location.host + '/login'\n//}\n}this.props.getProfile(profileId);this.props.getStatus(profileId);}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(Profile,_objectSpread(_objectSpread({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}));}}]);return ProfileContainer;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{profile:state.profilePage.profile,status:state.profilePage.status,userId:state.auth.userId,isAuth:state.auth.isAuth};};export default compose(connect(mapStateToProps,{getProfile:getProfile,getStatus:getStatus,updateStatus:updateStatus}),withRouter,withAuthRedirect)(ProfileContainer);","map":{"version":3,"names":["Profile","React","connect","getProfile","getStatus","updateStatus","withAuthRedirect","useLocation","useNavigate","useParams","compose","withRouter","Component","ComponentWithRouterProp","props","location","navigate","params","ProfileContainer","profileId","router","userId","profile","status","mapStateToProps","state","profilePage","auth","isAuth"],"sources":["C:/Dev/react/project1/src/components/profile/ProfileContainer.jsx"],"sourcesContent":["import Profile from './Profile';\r\nimport React from 'react';\r\nimport {connect}  from 'react-redux';\r\nimport {getProfile,getStatus,updateStatus} from './../../redux/profile-reducer'\r\nimport {withAuthRedirect} from './../../hoc/withAuthRedirect'\r\nimport {\r\n    useLocation,\r\n    useNavigate,\r\n    useParams,\r\n  } from \"react-router-dom\";\r\nimport {compose} from 'redux'\r\n\r\n  function withRouter(Component) {\r\n    function ComponentWithRouterProp(props) {\r\n        let location = useLocation();\r\n        let navigate = useNavigate();\r\n        let params = useParams();\r\n        return (\r\n            <Component\r\n                {...props}\r\n                router={{ location, navigate, params }}\r\n            />\r\n        );\r\n    }\r\n\r\n    return ComponentWithRouterProp;\r\n}\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\ncomponentDidMount() {\r\n    let profileId = this.props.router.params.userId;\r\n    if(!profileId) {\r\n        profileId = this.props.userId;\r\n        //if(!profileId) {\r\n        //    window.location.href = window.location.protocol+ \"//\" + window.location.host + '/login'\r\n        //}\r\n    }\r\n    this.props.getProfile(profileId);\r\n    this.props.getStatus(profileId);\r\n}\r\n\r\n    render() {\r\n        return (\r\n            <Profile {...this.props} profile={this.props.profile} status={this.props.status} updateStatus={this.props.updateStatus}/>\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    profile:state.profilePage.profile,\r\n    status:state.profilePage.status,\r\n    userId:state.auth.userId,\r\n    isAuth:state.auth.isAuth\r\n})\r\n\r\nexport default compose(\r\n    connect(mapStateToProps,{getProfile,getStatus,updateStatus}),\r\n    withRouter,\r\n    withAuthRedirect\r\n)(ProfileContainer)"],"mappings":"sgBAAA,MAAOA,QAAO,KAAM,WAAW,CAC/B,MAAOC,MAAK,KAAM,OAAO,CACzB,OAAQC,OAAO,KAAQ,aAAa,CACpC,OAAQC,UAAU,CAACC,SAAS,CAACC,YAAY,KAAO,+BAA+B,CAC/E,OAAQC,gBAAgB,KAAO,8BAA8B,CAC7D,OACIC,WAAW,CACXC,WAAW,CACXC,SAAS,KACJ,kBAAkB,CAC3B,OAAQC,OAAO,KAAO,OAAO,4CAE3B,QAASC,WAAU,CAACC,SAAS,CAAE,CAC7B,QAASC,wBAAuB,CAACC,KAAK,CAAE,CACpC,GAAIC,SAAQ,CAAGR,WAAW,EAAE,CAC5B,GAAIS,SAAQ,CAAGR,WAAW,EAAE,CAC5B,GAAIS,OAAM,CAAGR,SAAS,EAAE,CACxB,mBACI,KAAC,SAAS,gCACFK,KAAK,MACT,MAAM,CAAE,CAAEC,QAAQ,CAARA,QAAQ,CAAEC,QAAQ,CAARA,QAAQ,CAAEC,MAAM,CAANA,MAAO,CAAE,GACzC,CAEV,CAEA,MAAOJ,wBAAuB,CAClC,CAAC,GAEKK,iBAAgB,sSAEtB,4BAAoB,CAChB,GAAIC,UAAS,CAAG,IAAI,CAACL,KAAK,CAACM,MAAM,CAACH,MAAM,CAACI,MAAM,CAC/C,GAAG,CAACF,SAAS,CAAE,CACXA,SAAS,CAAG,IAAI,CAACL,KAAK,CAACO,MAAM,CAC7B;AACA;AACA;AACJ,CACA,IAAI,CAACP,KAAK,CAACX,UAAU,CAACgB,SAAS,CAAC,CAChC,IAAI,CAACL,KAAK,CAACV,SAAS,CAACe,SAAS,CAAC,CACnC,CAAC,sBAEG,iBAAS,CACL,mBACI,KAAC,OAAO,gCAAK,IAAI,CAACL,KAAK,MAAE,OAAO,CAAE,IAAI,CAACA,KAAK,CAACQ,OAAQ,CAAC,MAAM,CAAE,IAAI,CAACR,KAAK,CAACS,MAAO,CAAC,YAAY,CAAE,IAAI,CAACT,KAAK,CAACT,YAAa,GAAE,CAEjI,CAAC,8BAlB0BJ,KAAK,CAACW,SAAS,EAqB9C,GAAIY,gBAAe,CAAG,QAAlBA,gBAAe,CAAIC,KAAK,QAAM,CAC9BH,OAAO,CAACG,KAAK,CAACC,WAAW,CAACJ,OAAO,CACjCC,MAAM,CAACE,KAAK,CAACC,WAAW,CAACH,MAAM,CAC/BF,MAAM,CAACI,KAAK,CAACE,IAAI,CAACN,MAAM,CACxBO,MAAM,CAACH,KAAK,CAACE,IAAI,CAACC,MACtB,CAAC,EAAC,CAEF,cAAelB,QAAO,CAClBR,OAAO,CAACsB,eAAe,CAAC,CAACrB,UAAU,CAAVA,UAAU,CAACC,SAAS,CAATA,SAAS,CAACC,YAAY,CAAZA,YAAY,CAAC,CAAC,CAC5DM,UAAU,CACVL,gBAAgB,CACnB,CAACY,gBAAgB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}