{"ast":null,"code":"import profileReducer from './profile-reducer';\nimport dialogsReducer from './dialogs-reducer';\nimport sidebarReducer from './sidebar-reducer';\nconst ADD_POST = 'ADD-POST';\nconst UPDATE_NEW_POST_TEXT = 'UPDATE-NEW-POST-TEXT';\nconst ADD_MESSAGE = 'ADD-MESSAGE';\nconst UPDATE_NEW_MESSAGE_TEXT = 'UPDATE-NEW-MESSAGE-TEXT';\nlet store = {\n  _state: {\n    profilePage: {\n      posts: [{\n        'id': '1',\n        'message': 'Hi,how are you?',\n        'likesCount': 22\n      }, {\n        'id': '2',\n        'message': 'It\\'s my first post',\n        'likesCount': 15\n      }],\n      newPostText: 'hhh'\n    },\n    dialogsPage: {\n      messages: [{\n        'id': 1,\n        'message': 'Hi'\n      }, {\n        'id': 2,\n        'message': 'How are you?'\n      }, {\n        'id': 3,\n        'message': 'Yo'\n      }, {\n        'id': 4,\n        'message': 'Yo'\n      }],\n      newMessageText: '',\n      dialogs: [{\n        'id': 1,\n        'name': 'Dima'\n      }, {\n        'id': 2,\n        'name': 'Roof'\n      }, {\n        'id': 3,\n        'name': 'Andry'\n      }, {\n        'id': 4,\n        'name': 'Roma'\n      }]\n    },\n    sidebarPage: {\n      sidebar: [{\n        'id': 1,\n        'name': 'Sveta',\n        'src': 'https://i.playground.ru/p/_I__FEOa_NDhtQE5VzEEtQ.jpeg'\n      }, {\n        'id': 2,\n        'name': 'Roma',\n        'src': 'https://i.playground.ru/p/_I__FEOa_NDhtQE5VzEEtQ.jpeg'\n      }, {\n        'id': 3,\n        'name': 'Dima',\n        'src': 'https://i.playground.ru/p/_I__FEOa_NDhtQE5VzEEtQ.jpeg'\n      }]\n    }\n  },\n  _callSubscriber() {\n    console.log('ddd');\n  },\n  getState() {\n    return this._state;\n  },\n  subscribe(observer) {\n    this._callSubscriber = observer;\n  },\n  dispatch(action) {\n    this._state.profilePage = profileReducer(this._state.profilePage, action);\n    this._state.dialogsPage = dialogsReducer(this._state.dialogsPage, action);\n    this._state.sidebarPage = sidebarReducer(this._state.sidebarPage, action);\n    if (action.type === ADD_POST) {\n      let newPost = {\n        'id': 5,\n        'message': this._state.profilePage.newPostText,\n        'likesCount': 0\n      };\n      this._state.profilePage.posts.push(newPost);\n      this._state.profilePage.newPostText = '';\n      this._callSubscriber(this._state);\n    } else if (action.type === UPDATE_NEW_POST_TEXT) {\n      this._state.profilePage.newPostText = action.newText;\n      this._callSubscriber(this._state);\n    } else if (action.type === ADD_MESSAGE) {\n      let newMessage = {\n        'id': 5,\n        'message': this._state.dialogsPage.newMessageText\n      };\n      this._state.dialogsPage.messages.push(newMessage);\n      this._state.dialogsPage.newMessageText = '';\n      this._callSubscriber(this._state);\n    } else if (action.type === UPDATE_NEW_MESSAGE_TEXT) {\n      this._state.dialogsPage.newMessageText = action.newMessage;\n      this._callSubscriber(this._state);\n    }\n  }\n};\n\n//DIALOGS\nexport const addMessageActionCreater = () => ({\n  type: ADD_MESSAGE\n});\nexport const updateNewMessageTextActionCreater = message => ({\n  type: UPDATE_NEW_MESSAGE_TEXT,\n  newMessage: message\n});\n\n//POSTS\nexport const addPostActionCreater = () => ({\n  type: ADD_POST\n});\nexport const updateNewPostTextActionCreater = text => ({\n  type: UPDATE_NEW_POST_TEXT,\n  newText: text\n});\nwindow.state = store;\nexport default store;","map":{"version":3,"names":["profileReducer","dialogsReducer","sidebarReducer","ADD_POST","UPDATE_NEW_POST_TEXT","ADD_MESSAGE","UPDATE_NEW_MESSAGE_TEXT","store","_state","profilePage","posts","newPostText","dialogsPage","messages","newMessageText","dialogs","sidebarPage","sidebar","_callSubscriber","console","log","getState","subscribe","observer","dispatch","action","type","newPost","push","newText","newMessage","addMessageActionCreater","updateNewMessageTextActionCreater","message","addPostActionCreater","updateNewPostTextActionCreater","text","window","state"],"sources":["C:/Dev/react/project1/src/redux/state.js"],"sourcesContent":["import profileReducer from './profile-reducer';\r\nimport dialogsReducer from './dialogs-reducer';\r\nimport sidebarReducer from './sidebar-reducer';\r\n\r\nconst ADD_POST = 'ADD-POST'\r\nconst UPDATE_NEW_POST_TEXT = 'UPDATE-NEW-POST-TEXT'\r\nconst ADD_MESSAGE = 'ADD-MESSAGE'\r\nconst UPDATE_NEW_MESSAGE_TEXT = 'UPDATE-NEW-MESSAGE-TEXT'\r\nlet store = {\r\n_state: {\r\n  profilePage: {\r\n    posts: [\r\n      {'id':'1', 'message':'Hi,how are you?', 'likesCount': 22},\r\n      {'id':'2', 'message':'It\\'s my first post', 'likesCount': 15}\r\n    ],\r\n  newPostText:'hhh'\r\n  },\r\n  dialogsPage: {\r\n    messages: [\r\n      {'id':1, 'message': 'Hi'},\r\n      {'id':2, 'message': 'How are you?'},\r\n      {'id':3, 'message': 'Yo'},\r\n      {'id':4, 'message': 'Yo'}\r\n    ],\r\n    newMessageText:'',\r\n    dialogs: [\r\n      {'id':1, 'name': 'Dima'},\r\n      {'id':2, 'name': 'Roof'},\r\n      {'id':3, 'name': 'Andry'},\r\n      {'id':4, 'name': 'Roma'}\r\n    ]\r\n  },\r\n  sidebarPage:{\r\n    sidebar: [\r\n    {'id':1, 'name': 'Sveta', 'src':'https://i.playground.ru/p/_I__FEOa_NDhtQE5VzEEtQ.jpeg'},\r\n    {'id':2, 'name': 'Roma', 'src':'https://i.playground.ru/p/_I__FEOa_NDhtQE5VzEEtQ.jpeg'},\r\n    {'id':3, 'name': 'Dima', 'src':'https://i.playground.ru/p/_I__FEOa_NDhtQE5VzEEtQ.jpeg'}\r\n  ],\r\n  }\r\n},\r\n_callSubscriber() {\r\n  console.log('ddd');\r\n},\r\ngetState() {\r\n  return this._state;\r\n},\r\nsubscribe(observer) {\r\n  this._callSubscriber = observer\r\n},\r\ndispatch(action) {\r\n  this._state.profilePage = profileReducer(this._state.profilePage,action)\r\n  this._state.dialogsPage = dialogsReducer(this._state.dialogsPage,action)\r\n  this._state.sidebarPage = sidebarReducer(this._state.sidebarPage,action)\r\n\r\n\r\n\r\n  if(action.type === ADD_POST) {\r\n    let newPost = {\r\n      'id': 5, \r\n      'message':this._state.profilePage.newPostText,\r\n      'likesCount': 0\r\n    };\r\n    this._state.profilePage.posts.push(newPost)\r\n    this._state.profilePage.newPostText = '';\r\n  \r\n    this._callSubscriber(this._state)\r\n  } else if(action.type === UPDATE_NEW_POST_TEXT) {\r\n    this._state.profilePage.newPostText = action.newText;\r\n    this._callSubscriber(this._state)\r\n  } else if(action.type === ADD_MESSAGE) {\r\n    let newMessage = {\r\n      'id':5,\r\n      'message':this._state.dialogsPage.newMessageText\r\n    }\r\n    this._state.dialogsPage.messages.push(newMessage);\r\n    this._state.dialogsPage.newMessageText = '';\r\n    this._callSubscriber(this._state)\r\n  } else if(action.type === UPDATE_NEW_MESSAGE_TEXT){\r\n    this._state.dialogsPage.newMessageText = action.newMessage;\r\n    this._callSubscriber(this._state)\r\n  }\r\n}\r\n}\r\n\r\n//DIALOGS\r\nexport const addMessageActionCreater = () => ({\r\n  type:ADD_MESSAGE\r\n})\r\nexport const updateNewMessageTextActionCreater = (message) => \r\n({ type:UPDATE_NEW_MESSAGE_TEXT, newMessage:message})\r\n\r\n\r\n\r\n//POSTS\r\nexport const addPostActionCreater = () => ({\r\n      type:ADD_POST\r\n})\r\nexport const updateNewPostTextActionCreater = (text) => \r\n({ type:UPDATE_NEW_POST_TEXT, newText:text })\r\n\r\n\r\n\r\n\r\nwindow.state = store;\r\nexport default store;"],"mappings":"AAAA,OAAOA,cAAc,MAAM,mBAAmB;AAC9C,OAAOC,cAAc,MAAM,mBAAmB;AAC9C,OAAOC,cAAc,MAAM,mBAAmB;AAE9C,MAAMC,QAAQ,GAAG,UAAU;AAC3B,MAAMC,oBAAoB,GAAG,sBAAsB;AACnD,MAAMC,WAAW,GAAG,aAAa;AACjC,MAAMC,uBAAuB,GAAG,yBAAyB;AACzD,IAAIC,KAAK,GAAG;EACZC,MAAM,EAAE;IACNC,WAAW,EAAE;MACXC,KAAK,EAAE,CACL;QAAC,IAAI,EAAC,GAAG;QAAE,SAAS,EAAC,iBAAiB;QAAE,YAAY,EAAE;MAAE,CAAC,EACzD;QAAC,IAAI,EAAC,GAAG;QAAE,SAAS,EAAC,qBAAqB;QAAE,YAAY,EAAE;MAAE,CAAC,CAC9D;MACHC,WAAW,EAAC;IACZ,CAAC;IACDC,WAAW,EAAE;MACXC,QAAQ,EAAE,CACR;QAAC,IAAI,EAAC,CAAC;QAAE,SAAS,EAAE;MAAI,CAAC,EACzB;QAAC,IAAI,EAAC,CAAC;QAAE,SAAS,EAAE;MAAc,CAAC,EACnC;QAAC,IAAI,EAAC,CAAC;QAAE,SAAS,EAAE;MAAI,CAAC,EACzB;QAAC,IAAI,EAAC,CAAC;QAAE,SAAS,EAAE;MAAI,CAAC,CAC1B;MACDC,cAAc,EAAC,EAAE;MACjBC,OAAO,EAAE,CACP;QAAC,IAAI,EAAC,CAAC;QAAE,MAAM,EAAE;MAAM,CAAC,EACxB;QAAC,IAAI,EAAC,CAAC;QAAE,MAAM,EAAE;MAAM,CAAC,EACxB;QAAC,IAAI,EAAC,CAAC;QAAE,MAAM,EAAE;MAAO,CAAC,EACzB;QAAC,IAAI,EAAC,CAAC;QAAE,MAAM,EAAE;MAAM,CAAC;IAE5B,CAAC;IACDC,WAAW,EAAC;MACVC,OAAO,EAAE,CACT;QAAC,IAAI,EAAC,CAAC;QAAE,MAAM,EAAE,OAAO;QAAE,KAAK,EAAC;MAAuD,CAAC,EACxF;QAAC,IAAI,EAAC,CAAC;QAAE,MAAM,EAAE,MAAM;QAAE,KAAK,EAAC;MAAuD,CAAC,EACvF;QAAC,IAAI,EAAC,CAAC;QAAE,MAAM,EAAE,MAAM;QAAE,KAAK,EAAC;MAAuD,CAAC;IAEzF;EACF,CAAC;EACDC,eAAe,GAAG;IAChBC,OAAO,CAACC,GAAG,CAAC,KAAK,CAAC;EACpB,CAAC;EACDC,QAAQ,GAAG;IACT,OAAO,IAAI,CAACb,MAAM;EACpB,CAAC;EACDc,SAAS,CAACC,QAAQ,EAAE;IAClB,IAAI,CAACL,eAAe,GAAGK,QAAQ;EACjC,CAAC;EACDC,QAAQ,CAACC,MAAM,EAAE;IACf,IAAI,CAACjB,MAAM,CAACC,WAAW,GAAGT,cAAc,CAAC,IAAI,CAACQ,MAAM,CAACC,WAAW,EAACgB,MAAM,CAAC;IACxE,IAAI,CAACjB,MAAM,CAACI,WAAW,GAAGX,cAAc,CAAC,IAAI,CAACO,MAAM,CAACI,WAAW,EAACa,MAAM,CAAC;IACxE,IAAI,CAACjB,MAAM,CAACQ,WAAW,GAAGd,cAAc,CAAC,IAAI,CAACM,MAAM,CAACQ,WAAW,EAACS,MAAM,CAAC;IAIxE,IAAGA,MAAM,CAACC,IAAI,KAAKvB,QAAQ,EAAE;MAC3B,IAAIwB,OAAO,GAAG;QACZ,IAAI,EAAE,CAAC;QACP,SAAS,EAAC,IAAI,CAACnB,MAAM,CAACC,WAAW,CAACE,WAAW;QAC7C,YAAY,EAAE;MAChB,CAAC;MACD,IAAI,CAACH,MAAM,CAACC,WAAW,CAACC,KAAK,CAACkB,IAAI,CAACD,OAAO,CAAC;MAC3C,IAAI,CAACnB,MAAM,CAACC,WAAW,CAACE,WAAW,GAAG,EAAE;MAExC,IAAI,CAACO,eAAe,CAAC,IAAI,CAACV,MAAM,CAAC;IACnC,CAAC,MAAM,IAAGiB,MAAM,CAACC,IAAI,KAAKtB,oBAAoB,EAAE;MAC9C,IAAI,CAACI,MAAM,CAACC,WAAW,CAACE,WAAW,GAAGc,MAAM,CAACI,OAAO;MACpD,IAAI,CAACX,eAAe,CAAC,IAAI,CAACV,MAAM,CAAC;IACnC,CAAC,MAAM,IAAGiB,MAAM,CAACC,IAAI,KAAKrB,WAAW,EAAE;MACrC,IAAIyB,UAAU,GAAG;QACf,IAAI,EAAC,CAAC;QACN,SAAS,EAAC,IAAI,CAACtB,MAAM,CAACI,WAAW,CAACE;MACpC,CAAC;MACD,IAAI,CAACN,MAAM,CAACI,WAAW,CAACC,QAAQ,CAACe,IAAI,CAACE,UAAU,CAAC;MACjD,IAAI,CAACtB,MAAM,CAACI,WAAW,CAACE,cAAc,GAAG,EAAE;MAC3C,IAAI,CAACI,eAAe,CAAC,IAAI,CAACV,MAAM,CAAC;IACnC,CAAC,MAAM,IAAGiB,MAAM,CAACC,IAAI,KAAKpB,uBAAuB,EAAC;MAChD,IAAI,CAACE,MAAM,CAACI,WAAW,CAACE,cAAc,GAAGW,MAAM,CAACK,UAAU;MAC1D,IAAI,CAACZ,eAAe,CAAC,IAAI,CAACV,MAAM,CAAC;IACnC;EACF;AACA,CAAC;;AAED;AACA,OAAO,MAAMuB,uBAAuB,GAAG,OAAO;EAC5CL,IAAI,EAACrB;AACP,CAAC,CAAC;AACF,OAAO,MAAM2B,iCAAiC,GAAIC,OAAO,KACxD;EAAEP,IAAI,EAACpB,uBAAuB;EAAEwB,UAAU,EAACG;AAAO,CAAC,CAAC;;AAIrD;AACA,OAAO,MAAMC,oBAAoB,GAAG,OAAO;EACrCR,IAAI,EAACvB;AACX,CAAC,CAAC;AACF,OAAO,MAAMgC,8BAA8B,GAAIC,IAAI,KAClD;EAAEV,IAAI,EAACtB,oBAAoB;EAAEyB,OAAO,EAACO;AAAK,CAAC,CAAC;AAK7CC,MAAM,CAACC,KAAK,GAAG/B,KAAK;AACpB,eAAeA,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}