{"ast":null,"code":"import _classCallCheck from\"C:/Dev/react/project1/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Dev/react/project1/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"C:/Dev/react/project1/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Dev/react/project1/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import'./App.css';import React from'react';import HeaderContainer from'./components/header/HeaderContainer';import Navbar from'./components/navbar/Navbar';import UsersContainer from'./components/users/UsersContainer';import Login from'./components/login/Login';import{BrowserRouter,Route,Routes,Navigate}from'react-router-dom';import{connect}from'react-redux';import{initializeApp}from'./redux/app-reducer';import{compose}from'redux';import Preloader from'./components/common/preloader/Preloader';import store from'./redux/redux-store';import{Provider}from'react-redux';import{Suspense}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DialogsContainer=/*#__PURE__*/React.lazy(function(){return import('./components/dialogs/DialogsContainer');});var ProfileContainer=/*#__PURE__*/React.lazy(function(){return import('./components/profile/ProfileContainer');});var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.catchAllUnhandleErrors=function(){alert('Problem');};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){this.props.initializeApp();window.addEventListener(\"unhandlerejection\",this.promiseRejectionEvent);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){window.removeEventListener(\"unhandlerejection\",this.promiseRejectionEvent);}},{key:\"render\",value:function render(){if(!this.props.initialized){return/*#__PURE__*/_jsx(Preloader,{});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"header\",{children:/*#__PURE__*/_jsx(HeaderContainer,{})}),/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsx(Navbar/*sidebar={props.state.sidebarPage.sidebar}*/,{}),/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Preloader,{})}),children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/profile\"})}),/*#__PURE__*/_jsx(Route,{path:\"/profile/:userId?\",element:/*#__PURE__*/_jsx(ProfileContainer,{h:\"Profile\"})}),/*#__PURE__*/_jsx(Route,{path:\"/dialogs/*\",element:/*#__PURE__*/_jsx(DialogsContainer,{h:\"Dialogs\"})}),/*#__PURE__*/_jsx(Route,{path:\"/users\",element:/*#__PURE__*/_jsx(UsersContainer,{h:\"Users\"})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{h:\"Login\"})})]})})]})]});}}]);return App;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{initialized:state.app.initialized};};var AppContainer=compose(connect(mapStateToProps,{initializeApp:initializeApp}))(App);var AppMain=function AppMain(props){return/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsx(Provider,{store:store,children:/*#__PURE__*/_jsx(AppContainer,{})})});};export default AppMain;","map":{"version":3,"names":["React","HeaderContainer","Navbar","UsersContainer","Login","BrowserRouter","Route","Routes","Navigate","connect","initializeApp","compose","Preloader","store","Provider","Suspense","DialogsContainer","lazy","ProfileContainer","App","catchAllUnhandleErrors","alert","props","window","addEventListener","promiseRejectionEvent","removeEventListener","initialized","Component","mapStateToProps","state","app","AppContainer","AppMain"],"sources":["C:/Dev/react/project1/src/App.js"],"sourcesContent":["import './App.css';\nimport React from 'react'\nimport HeaderContainer from './components/header/HeaderContainer';\nimport Navbar from './components/navbar/Navbar';\nimport UsersContainer from './components/users/UsersContainer';\nimport Login from './components/login/Login';\nimport {BrowserRouter,Route, Routes,Navigate} from 'react-router-dom';\nimport {connect} from 'react-redux'\nimport {initializeApp} from './redux/app-reducer'\nimport {compose} from 'redux'\nimport Preloader from './components/common/preloader/Preloader';\nimport store from './redux/redux-store'\nimport {Provider} from 'react-redux';\nimport {Suspense} from 'react'\n\nconst DialogsContainer = React.lazy(() => import('./components/dialogs/DialogsContainer'))\nconst ProfileContainer = React.lazy(() => import('./components/profile/ProfileContainer'))\n\nclass App extends React.Component {\n  catchAllUnhandleErrors = () => {\n    alert('Problem')\n  }\n  componentDidMount() {\n    this.props.initializeApp();\n    window.addEventListener(\"unhandlerejection\",this.promiseRejectionEvent)\n  }\n  componentWillUnmount() {\n    window.removeEventListener(\"unhandlerejection\",this.promiseRejectionEvent)\n  }\n  render() {\n    if(!this.props.initialized) {\n      return <Preloader />\n    }\n    return (\n      <div >\n        <header>\n          <HeaderContainer />\n        </header>\n        <main>\n          <Navbar /*sidebar={props.state.sidebarPage.sidebar}*//>\n          <Suspense fallback={<div><Preloader /></div>}>\n          <Routes>\n                <Route path='/' element={<Navigate to=\"/profile\" />}/>\n                <Route path='/profile/:userId?' element={<ProfileContainer h='Profile'/>}/>\n                <Route path='/dialogs/*' element={<DialogsContainer h='Dialogs'/>}/>\n                <Route path='/users' element={<UsersContainer h='Users'/>}/>\n                <Route path='/login' element={<Login h='Login'/>}/>\n          </Routes>\n          </Suspense>\n        </main>\n      </div>\n    );\n}\n}\n\nconst mapStateToProps = (state) => ({\n  initialized:state.app.initialized\n})\nlet AppContainer = compose (\n  connect(mapStateToProps,{initializeApp}),\n)(App);\n\nlet AppMain = (props) => { \n  return <BrowserRouter>\n  <Provider store={store}>\n    <AppContainer />\n  </Provider>\n</BrowserRouter>\n}\n\nexport default AppMain\n\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}