{"ast":null,"code":"import { userAPI } from './../components/api/api';\nconst SET_USER_DATA = 'SET_USER_DATAA';\nlet initialState = {\n  userId: null,\n  email: null,\n  login: null\n};\nexport const authReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case SET_USER_DATA:\n      return {\n        ...state,\n        ...state.data\n      };\n    default:\n      return state;\n  }\n};\nexport const setAuthUserData = (userId, email, login) => ({\n  type: SET_USER_DATA,\n  data: {\n    userId,\n    email,\n    login\n  }\n});\nexport const getData = () => {\n  return dispatch => {\n    userAPI.getData().then(response => {\n      console.log(response);\n      if (response.resultCode === 0) {\n        let {\n          id,\n          login,\n          email\n        } = response.data;\n        dispatch(setAuthUserData(id, email, login));\n      }\n    });\n  };\n};\nexport default authReducer;","map":{"version":3,"names":["userAPI","SET_USER_DATA","initialState","userId","email","login","authReducer","state","action","type","data","setAuthUserData","getData","dispatch","then","response","console","log","resultCode","id"],"sources":["C:/Dev/react/project1/src/redux/auth-reducer.js"],"sourcesContent":["import {userAPI} from './../components/api/api';\r\nconst SET_USER_DATA = 'SET_USER_DATAA'\r\n\r\n\r\nlet initialState =  {\r\n    userId:null,\r\n    email:null,\r\n    login:null,\r\n}\r\n\r\nexport const authReducer = (state = initialState,action) =>{\r\n  switch(action.type) {\r\n    case SET_USER_DATA: \r\n        return { \r\n            ...state,\r\n            ...state.data\r\n        }\r\n    default: \r\n        return state;\r\n  }\r\n}\r\nexport const setAuthUserData = (userId,email,login) => ({\r\n  type:SET_USER_DATA, data:{userId,email,login}\r\n})\r\n\r\nexport const getData = () => {\r\n  return (dispatch) =>  {\r\n    userAPI.getData().then(response => {\r\n      console.log(response)\r\n    if(response.resultCode === 0) {\r\n      let {id,login,email} = response.data;\r\n      dispatch(setAuthUserData(id, email, login));\r\n  }})\r\n  }\r\n}\r\n\r\nexport default authReducer;"],"mappings":"AAAA,SAAQA,OAAO,QAAO,yBAAyB;AAC/C,MAAMC,aAAa,GAAG,gBAAgB;AAGtC,IAAIC,YAAY,GAAI;EAChBC,MAAM,EAAC,IAAI;EACXC,KAAK,EAAC,IAAI;EACVC,KAAK,EAAC;AACV,CAAC;AAED,OAAO,MAAMC,WAAW,GAAG,YAAgC;EAAA,IAA/BC,KAAK,uEAAGL,YAAY;EAAA,IAACM,MAAM;EACrD,QAAOA,MAAM,CAACC,IAAI;IAChB,KAAKR,aAAa;MACd,OAAO;QACH,GAAGM,KAAK;QACR,GAAGA,KAAK,CAACG;MACb,CAAC;IACL;MACI,OAAOH,KAAK;EAAC;AAErB,CAAC;AACD,OAAO,MAAMI,eAAe,GAAG,CAACR,MAAM,EAACC,KAAK,EAACC,KAAK,MAAM;EACtDI,IAAI,EAACR,aAAa;EAAES,IAAI,EAAC;IAACP,MAAM;IAACC,KAAK;IAACC;EAAK;AAC9C,CAAC,CAAC;AAEF,OAAO,MAAMO,OAAO,GAAG,MAAM;EAC3B,OAAQC,QAAQ,IAAM;IACpBb,OAAO,CAACY,OAAO,EAAE,CAACE,IAAI,CAACC,QAAQ,IAAI;MACjCC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC;MACvB,IAAGA,QAAQ,CAACG,UAAU,KAAK,CAAC,EAAE;QAC5B,IAAI;UAACC,EAAE;UAACd,KAAK;UAACD;QAAK,CAAC,GAAGW,QAAQ,CAACL,IAAI;QACpCG,QAAQ,CAACF,eAAe,CAACQ,EAAE,EAAEf,KAAK,EAAEC,KAAK,CAAC,CAAC;MAC/C;IAAC,CAAC,CAAC;EACH,CAAC;AACH,CAAC;AAED,eAAeC,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}