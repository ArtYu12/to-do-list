{"ast":null,"code":"import _slicedToArray from\"C:/Dev/react/project1/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import so from'./Profileinfo.module.css';import Preloader from'./../../common/preloader/Preloader';import ProfileStatusWithHooks from'./ProfileStatusWithHooks';import userPhoto from'./../../common/userNull.jpg';import React,{useState}from'react';import ProfileDataForm from'./ProfileDataForm';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProfileInfo=function ProfileInfo(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),editMode=_useState2[0],setEditMode=_useState2[1];if(!props.profile){return/*#__PURE__*/_jsx(Preloader,{});}var onMainPhotoSelected=function onMainPhotoSelected(e){if(e.target.files.length){props.savePhoto(e.target.files[0]);}};var onSubmit=function onSubmit(formData){props.saveProfile(formData).then(function(){setEditMode(false);});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"img\",{className:so.img,src:\"https://proprikol.ru/wp-content/uploads/2020/08/kartinki-krutyh-mashin-57.jpg\",alt:\"main\"}),/*#__PURE__*/_jsxs(\"div\",{className:so.descBlock,children:[/*#__PURE__*/_jsx(\"img\",{src:props.profile.photos.large||userPhoto,alt:\"ava\",className:so.ava}),props.isOwner&&/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:onMainPhotoSelected}),editMode?/*#__PURE__*/_jsx(ProfileDataForm,{profile:props.profile,onSubmit:onSubmit,initialValues:props.profile}):/*#__PURE__*/_jsx(ProfileData,{goToEditMode:function goToEditMode(){setEditMode(true);},profile:props.profile,isOwner:props.isOwner}),/*#__PURE__*/_jsx(ProfileStatusWithHooks,{status:props.status,updateStatus:props.updateStatus})]})]});};var ProfileData=function ProfileData(_ref){var profile=_ref.profile,isOwner=_ref.isOwner,goToEditMode=_ref.goToEditMode;return/*#__PURE__*/_jsxs(\"div\",{children:[isOwner&&/*#__PURE__*/_jsx(\"button\",{onClick:goToEditMode,children:\"Edit\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Full name: \"}),profile.fullName]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Looking for a job: \"}),profile.lookingForAJob?'yes':'no']}),profile.lookingForAJob&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Skills: \"}),\" \",profile.lookingForAJobDescription]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"About me: \"}),\" \",profile.aboutMe||'---']}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Contacts: \"}),\" \",Object.keys(profile.contacts).map(function(key){return/*#__PURE__*/_jsx(Contact,{contactTitle:key,contactValue:profile.contacts[key]},key);})]})]});};export var Contact=function Contact(_ref2){var contactTitle=_ref2.contactTitle,contactValue=_ref2.contactValue;return/*#__PURE__*/_jsxs(\"div\",{className:so.contact,children:[/*#__PURE__*/_jsx(\"b\",{children:contactTitle}),\":\",contactValue]});};export default ProfileInfo;","map":{"version":3,"names":["so","Preloader","ProfileStatusWithHooks","userPhoto","React","useState","ProfileDataForm","ProfileInfo","props","editMode","setEditMode","profile","onMainPhotoSelected","e","target","files","length","savePhoto","onSubmit","formData","saveProfile","then","img","descBlock","photos","large","ava","isOwner","status","updateStatus","ProfileData","goToEditMode","fullName","lookingForAJob","lookingForAJobDescription","aboutMe","Object","keys","contacts","map","key","Contact","contactTitle","contactValue","contact"],"sources":["C:/Dev/react/project1/src/components/profile/Profileinfo/Profileinfo.jsx"],"sourcesContent":["import so from './Profileinfo.module.css';\r\nimport Preloader from './../../common/preloader/Preloader'\r\nimport ProfileStatusWithHooks from './ProfileStatusWithHooks';\r\nimport userPhoto from './../../common/userNull.jpg';\r\nimport React,{useState} from 'react'\r\nimport ProfileDataForm from './ProfileDataForm'\r\nconst ProfileInfo = (props) => {\r\n    const [editMode,setEditMode]= useState(false)\r\n    if(!props.profile) {\r\n        return <Preloader />\r\n    }\r\n    let onMainPhotoSelected = (e) => {\r\n        if(e.target.files.length){\r\n            props.savePhoto(e.target.files[0])\r\n        }\r\n    }\r\n    let onSubmit = (formData) => {\r\n        props.saveProfile(formData).then(() => {\r\n            setEditMode(false)\r\n        });\r\n    }\r\n    return(\r\n        <div>\r\n            <img className={so.img} src=\"https://proprikol.ru/wp-content/uploads/2020/08/kartinki-krutyh-mashin-57.jpg\" alt=\"main\"/>\r\n            <div className={so.descBlock}>\r\n                <img src={props.profile.photos.large || userPhoto} alt=\"ava\" className={so.ava} />\r\n                {props.isOwner && <input type=\"file\" onChange={onMainPhotoSelected}/>}\r\n                {editMode?<ProfileDataForm profile={props.profile}\r\n                 onSubmit={onSubmit}\r\n                 initialValues={props.profile}\r\n                 />:\r\n                <ProfileData goToEditMode={() => {setEditMode(true)}} profile={props.profile} isOwner={props.isOwner}/>}\r\n                <ProfileStatusWithHooks status={props.status} updateStatus={props.updateStatus}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nconst ProfileData = ({profile,isOwner,goToEditMode}) => {\r\n    return <div>\r\n        {isOwner && <button onClick={goToEditMode}>Edit</button>}\r\n            <div>\r\n                <b>Full name: </b>{profile.fullName}\r\n            </div>\r\n            <div>\r\n                <b>Looking for a job: </b>{profile.lookingForAJob ? 'yes' : 'no'}\r\n            </div>\r\n            {profile.lookingForAJob &&\r\n                <div>\r\n                    <b>Skills: </b> {profile.lookingForAJobDescription}\r\n                </div>\r\n            }\r\n            <div>\r\n                <b>About me: </b> {profile.aboutMe || '---'}\r\n            </div>\r\n            <div>\r\n                <b>Contacts: </b> {Object.keys(profile.contacts).map(key => {\r\n                    return  <Contact contactTitle={key} key={key} contactValue={profile.contacts[key]}/>\r\n                })}\r\n            </div>\r\n        </div>\r\n}\r\nexport const Contact = ({contactTitle,contactValue}) => {\r\n    return <div className={so.contact}><b>{contactTitle}</b>:{contactValue}</div>\r\n}\r\nexport default ProfileInfo;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}