{"ast":null,"code":"import React from'react';import{reduxForm}from'redux-form';import{Input}from'./../common/formsControls/formsControsl';import{requered,maxLengthCreator}from'./../../utials/validators/validators';import{connect}from'react-redux';import{login}from'./../../redux/auth-reducer';import{Navigate}from'react-router-dom';import s from'./../common/formsControls/formsControls.module.css';import{createField}from'./../common/formsControls/formsControsl';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var maxLength10=maxLengthCreator(10);var LoginForm=function LoginForm(_ref){var handleSubmit=_ref.handleSubmit,error=_ref.error,captchaUrl=_ref.captchaUrl;return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[createField('Login','email',Input,[requered]),createField('Password','password',Input,[requered,maxLength10],{type:'password'}),createField(null,'rememberMe',Input,null,{type:'checkbox'},'remember me'),captchaUrl&&/*#__PURE__*/_jsx(\"img\",{src:captchaUrl,alt:\"1\"}),captchaUrl&&createField('Symbols','captcha',Input,[requered]),error&&/*#__PURE__*/_jsx(\"div\",{className:s.formSummaryError,children:error}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{children:\"Login\"})})]});};var LoginReduxForm=reduxForm({form:'login'})(LoginForm);var Login=function Login(props){var onSubmit=function onSubmit(formData){props.login(formData.email,formData.password,formData.rememberMe,formData.captcha);};if(props.isAuth){return/*#__PURE__*/_jsx(Navigate,{to:'/profile'});}return/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:props.h}),/*#__PURE__*/_jsx(LoginReduxForm,{onSubmit:onSubmit,captchaUrl:props.captchaUrl})]});};var mapStateToProps=function mapStateToProps(state){return{isAuth:state.auth.isAuth,captchaUrl:state.auth.captchaUrl};};export default connect(mapStateToProps,{login:login})(Login);","map":{"version":3,"names":["React","reduxForm","Input","requered","maxLengthCreator","connect","login","Navigate","s","createField","maxLength10","LoginForm","handleSubmit","error","captchaUrl","type","formSummaryError","LoginReduxForm","form","Login","props","onSubmit","formData","email","password","rememberMe","captcha","isAuth","h","mapStateToProps","state","auth"],"sources":["C:/Dev/react/project1/src/components/login/Login.jsx"],"sourcesContent":["import React from 'react'\r\nimport {reduxForm} from 'redux-form'\r\nimport {Input} from './../common/formsControls/formsControsl'\r\nimport {requered,maxLengthCreator} from './../../utials/validators/validators'\r\nimport {connect} from 'react-redux'\r\nimport {login} from './../../redux/auth-reducer'\r\nimport { Navigate } from 'react-router-dom'\r\nimport s from './../common/formsControls/formsControls.module.css'\r\nimport {createField} from './../common/formsControls/formsControsl'\r\n\r\nconst maxLength10 = maxLengthCreator(10)\r\nconst LoginForm = ({handleSubmit,error,captchaUrl}) => {\r\n    return (\r\n            <form onSubmit={handleSubmit}>\r\n                {createField('Login','email',Input,[requered])}\r\n                {createField('Password','password',Input,[requered,maxLength10],{type:'password'})}\r\n                {createField(null,'rememberMe',Input,null,{type:'checkbox'},'remember me')}\r\n                {captchaUrl && <img src={captchaUrl} alt=\"1\"/>}\r\n                {captchaUrl && createField('Symbols','captcha',Input,[requered])}\r\n                {error &&\r\n                <div className={s.formSummaryError}>\r\n                    {error}\r\n                </div>}\r\n                <div>   \r\n                    <button>Login</button>\r\n                </div>\r\n            </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({\r\n    form:'login'\r\n})(LoginForm)\r\n\r\nconst Login = (props) => {\r\n\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email,formData.password,formData.rememberMe,formData.captcha)\r\n    }\r\n    if(props.isAuth) {\r\n        return <Navigate to={'/profile'}/>\r\n    }\r\n    return ( <section>\r\n            <h2>{props.h}</h2>\r\n            <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl}/>\r\n        </section>\r\n    )\r\n}\r\nconst mapStateToProps = (state) => ({\r\n    isAuth:state.auth.isAuth,\r\n    captchaUrl:state.auth.captchaUrl\r\n})\r\nexport default connect(mapStateToProps,{login})(Login)"],"mappings":"AAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,OAAQC,SAAS,KAAO,YAAY,CACpC,OAAQC,KAAK,KAAO,yCAAyC,CAC7D,OAAQC,QAAQ,CAACC,gBAAgB,KAAO,sCAAsC,CAC9E,OAAQC,OAAO,KAAO,aAAa,CACnC,OAAQC,KAAK,KAAO,4BAA4B,CAChD,OAASC,QAAQ,KAAQ,kBAAkB,CAC3C,MAAOC,EAAC,KAAM,oDAAoD,CAClE,OAAQC,WAAW,KAAO,yCAAyC,yFAEnE,GAAMC,YAAW,CAAGN,gBAAgB,CAAC,EAAE,CAAC,CACxC,GAAMO,UAAS,CAAG,QAAZA,UAAS,MAAwC,IAAnCC,aAAY,MAAZA,YAAY,CAACC,KAAK,MAALA,KAAK,CAACC,UAAU,MAAVA,UAAU,CAC7C,mBACQ,cAAM,QAAQ,CAAEF,YAAa,WACxBH,WAAW,CAAC,OAAO,CAAC,OAAO,CAACP,KAAK,CAAC,CAACC,QAAQ,CAAC,CAAC,CAC7CM,WAAW,CAAC,UAAU,CAAC,UAAU,CAACP,KAAK,CAAC,CAACC,QAAQ,CAACO,WAAW,CAAC,CAAC,CAACK,IAAI,CAAC,UAAU,CAAC,CAAC,CACjFN,WAAW,CAAC,IAAI,CAAC,YAAY,CAACP,KAAK,CAAC,IAAI,CAAC,CAACa,IAAI,CAAC,UAAU,CAAC,CAAC,aAAa,CAAC,CACzED,UAAU,eAAI,YAAK,GAAG,CAAEA,UAAW,CAAC,GAAG,CAAC,GAAG,EAAE,CAC7CA,UAAU,EAAIL,WAAW,CAAC,SAAS,CAAC,SAAS,CAACP,KAAK,CAAC,CAACC,QAAQ,CAAC,CAAC,CAC/DU,KAAK,eACN,YAAK,SAAS,CAAEL,CAAC,CAACQ,gBAAiB,UAC9BH,KAAK,EACJ,cACN,kCACI,wBAAQ,OAAK,EAAS,EACpB,GACH,CAEnB,CAAC,CAED,GAAMI,eAAc,CAAGhB,SAAS,CAAC,CAC7BiB,IAAI,CAAC,OACT,CAAC,CAAC,CAACP,SAAS,CAAC,CAEb,GAAMQ,MAAK,CAAG,QAARA,MAAK,CAAIC,KAAK,CAAK,CAErB,GAAMC,SAAQ,CAAG,QAAXA,SAAQ,CAAIC,QAAQ,CAAK,CAC3BF,KAAK,CAACd,KAAK,CAACgB,QAAQ,CAACC,KAAK,CAACD,QAAQ,CAACE,QAAQ,CAACF,QAAQ,CAACG,UAAU,CAACH,QAAQ,CAACI,OAAO,CAAC,CACtF,CAAC,CACD,GAAGN,KAAK,CAACO,MAAM,CAAE,CACb,mBAAO,KAAC,QAAQ,EAAC,EAAE,CAAE,UAAW,EAAE,CACtC,CACA,mBAAS,wCACD,oBAAKP,KAAK,CAACQ,CAAC,EAAM,cAClB,KAAC,cAAc,EAAC,QAAQ,CAAEP,QAAS,CAAC,UAAU,CAAED,KAAK,CAACN,UAAW,EAAE,GAC7D,CAElB,CAAC,CACD,GAAMe,gBAAe,CAAG,QAAlBA,gBAAe,CAAIC,KAAK,QAAM,CAChCH,MAAM,CAACG,KAAK,CAACC,IAAI,CAACJ,MAAM,CACxBb,UAAU,CAACgB,KAAK,CAACC,IAAI,CAACjB,UAC1B,CAAC,EAAC,CACF,cAAeT,QAAO,CAACwB,eAAe,CAAC,CAACvB,KAAK,CAALA,KAAK,CAAC,CAAC,CAACa,KAAK,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}