{"ast":null,"code":"import { tableAPI } from \"api/tables/tables-api\";\nconst SET_TABLE = 'SET_TABLE';\nconst UPDATE_TABLE = 'UPDATE_TABLE';\nconst DELETE_TABLE_DATA = 'DELETE_TABLE_DATA';\nconst initialState = {\n  table: {}\n};\nconst tableReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case SET_TABLE:\n      {\n        return {\n          ...state,\n          table: action.table\n        };\n      }\n    case UPDATE_TABLE:\n      {\n        return {\n          ...state,\n          table: action.table\n        };\n      }\n    case DELETE_TABLE_DATA:\n      {\n        return {\n          ...state,\n          table: {}\n        };\n      }\n    default:\n      {\n        return state;\n      }\n  }\n};\nexport const actions = {\n  setTable: table => ({\n    type: SET_TABLE,\n    table\n  }),\n  updateTable: table => ({\n    type: UPDATE_TABLE,\n    table\n  }),\n  deleteTableData: () => ({\n    type: DELETE_TABLE_DATA\n  })\n};\nexport const getTable = id => async dispatch => {\n  const response = await tableAPI.getTable(id);\n  if (response.status === 200) {\n    dispatch(actions.setTable(response.data));\n  }\n};\nexport default tableReducer;","map":{"version":3,"names":["tableAPI","SET_TABLE","UPDATE_TABLE","DELETE_TABLE_DATA","initialState","table","tableReducer","state","action","type","actions","setTable","updateTable","deleteTableData","getTable","id","dispatch","response","status","data"],"sources":["C:/Dev/react/schedule for the day/client/src/redux/table-reducer.ts"],"sourcesContent":["import { tableAPI } from \"api/tables/tables-api\";\r\nimport { BaseThunkType, InferActionsType } from \"./redux-store\";\r\nimport { tableFullType } from \"./tables-reducer\";\r\n\r\nconst SET_TABLE = 'SET_TABLE'\r\nconst UPDATE_TABLE = 'UPDATE_TABLE'\r\nconst DELETE_TABLE_DATA ='DELETE_TABLE_DATA'\r\n\r\ntype ActionsType = InferActionsType<typeof actions>\r\ntype InitialStateType = typeof initialState\r\ntype ThunkType = BaseThunkType<ActionsType>\r\n\r\nconst initialState = {\r\n    table:{} as tableFullType,\r\n    \r\n}\r\n\r\nconst tableReducer = (state:InitialStateType = initialState, action:ActionsType):InitialStateType => {\r\n    switch(action.type) {\r\n        case SET_TABLE : {\r\n            return {\r\n                ...state,\r\n                table:action.table\r\n            }\r\n        }\r\n        case UPDATE_TABLE: {\r\n            return {\r\n                ...state,\r\n                table: action.table,\r\n            };\r\n        }\r\n        case DELETE_TABLE_DATA : {\r\n            return {\r\n                ...state,\r\n                table: {}\r\n            }\r\n        }\r\n        default : {\r\n            return state\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nexport const actions = {\r\n    setTable:(table:tableFullType) => ({type:SET_TABLE,table}),\r\n    updateTable: (table:tableFullType) => ({type: UPDATE_TABLE,table}),\r\n    deleteTableData: () => ({type: DELETE_TABLE_DATA}),\r\n}\r\n\r\nexport const getTable = (id:string):ThunkType => async (dispatch) => {\r\n    const response = await tableAPI.getTable(id)\r\n    if(response.status === 200) {\r\n        dispatch(actions.setTable(response.data))\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default tableReducer"],"mappings":"AAAA,SAASA,QAAQ,QAAQ,uBAAuB;AAIhD,MAAMC,SAAS,GAAG,WAAW;AAC7B,MAAMC,YAAY,GAAG,cAAc;AACnC,MAAMC,iBAAiB,GAAE,mBAAmB;AAM5C,MAAMC,YAAY,GAAG;EACjBC,KAAK,EAAC,CAAC;AAEX,CAAC;AAED,MAAMC,YAAY,GAAG,YAAgF;EAAA,IAA/EC,KAAsB,uEAAGH,YAAY;EAAA,IAAEI,MAAkB;EAC3E,QAAOA,MAAM,CAACC,IAAI;IACd,KAAKR,SAAS;MAAG;QACb,OAAO;UACH,GAAGM,KAAK;UACRF,KAAK,EAACG,MAAM,CAACH;QACjB,CAAC;MACL;IACA,KAAKH,YAAY;MAAE;QACf,OAAO;UACH,GAAGK,KAAK;UACRF,KAAK,EAAEG,MAAM,CAACH;QAClB,CAAC;MACL;IACA,KAAKF,iBAAiB;MAAG;QACrB,OAAO;UACH,GAAGI,KAAK;UACRF,KAAK,EAAE,CAAC;QACZ,CAAC;MACL;IACA;MAAU;QACN,OAAOE,KAAK;MAChB;EAAC;AAET,CAAC;AAKD,OAAO,MAAMG,OAAO,GAAG;EACnBC,QAAQ,EAAEN,KAAmB,KAAM;IAACI,IAAI,EAACR,SAAS;IAACI;EAAK,CAAC,CAAC;EAC1DO,WAAW,EAAGP,KAAmB,KAAM;IAACI,IAAI,EAAEP,YAAY;IAACG;EAAK,CAAC,CAAC;EAClEQ,eAAe,EAAE,OAAO;IAACJ,IAAI,EAAEN;EAAiB,CAAC;AACrD,CAAC;AAED,OAAO,MAAMW,QAAQ,GAAIC,EAAS,IAAe,MAAOC,QAAQ,IAAK;EACjE,MAAMC,QAAQ,GAAG,MAAMjB,QAAQ,CAACc,QAAQ,CAACC,EAAE,CAAC;EAC5C,IAAGE,QAAQ,CAACC,MAAM,KAAK,GAAG,EAAE;IACxBF,QAAQ,CAACN,OAAO,CAACC,QAAQ,CAACM,QAAQ,CAACE,IAAI,CAAC,CAAC;EAC7C;AACJ,CAAC;AAID,eAAeb,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}