{"ast":null,"code":"const ADD_POST = 'ADD-POST';\nconst UPDATE_NEW_POST_TEXT = 'UPDATE-NEW-POST-TEXT';\nlet store = {\n  _state: {\n    profilePage: {\n      posts: [{\n        'id': '1',\n        'message': 'Hi,how are you?',\n        'likesCount': 22\n      }, {\n        'id': '2',\n        'message': 'It\\'s my first post',\n        'likesCount': 15\n      }],\n      newPostText: 'hhh'\n    },\n    dialogsPage: {\n      messages: [{\n        'id': 1,\n        'message': 'Hi'\n      }, {\n        'id': 2,\n        'message': 'How are you?'\n      }, {\n        'id': 3,\n        'message': 'Yo'\n      }, {\n        'id': 4,\n        'message': 'Yo'\n      }],\n      dialogs: [{\n        'id': 1,\n        'name': 'Dima'\n      }, {\n        'id': 2,\n        'name': 'Roof'\n      }, {\n        'id': 3,\n        'name': 'Andry'\n      }, {\n        'id': 4,\n        'name': 'Roma'\n      }]\n    },\n    sidebarPage: {\n      sidebar: [{\n        'id': 1,\n        'name': 'Sveta',\n        'src': 'https://i.playground.ru/p/_I__FEOa_NDhtQE5VzEEtQ.jpeg'\n      }, {\n        'id': 2,\n        'name': 'Roma',\n        'src': 'https://i.playground.ru/p/_I__FEOa_NDhtQE5VzEEtQ.jpeg'\n      }, {\n        'id': 3,\n        'name': 'Dima',\n        'src': 'https://i.playground.ru/p/_I__FEOa_NDhtQE5VzEEtQ.jpeg'\n      }]\n    }\n  },\n  _callSubscriber() {\n    console.log('ddd');\n  },\n  getState() {\n    return this._state;\n  },\n  subscribe(observer) {\n    this._callSubscriber = observer;\n  },\n  dispatch(action) {\n    if (action.type === ADD_POST) {\n      let newPost = {\n        'id': 5,\n        'message': this._state.profilePage.newPostText,\n        'likesCount': 0\n      };\n      this._state.profilePage.posts.push(newPost);\n      this._state.profilePage.newPostText = '';\n      this._callSubscriber(this._state);\n    } else if (action.type === UPDATE_NEW_POST_TEXT) {\n      this._state.profilePage.newPostText = action.newText;\n      this._callSubscriber(this._state);\n    } else if (action.type === ADD_MESSAGE) {} else if (action.type === UPDATE_NEW_MESSAGE_TEXT) {}\n  }\n};\n\n//DIALOGS\nexport const addMessageActionCreater = () => ({\n  type: ADD_MESSAGE\n});\nexport const updateNewMessageTextActionCreater = text => ({\n  type: UPDATE_NEW_MESSAGE_TEXT,\n  newMessage: text\n});\n\n//POSTS\nexport const addPostActionCreater = () => ({\n  type: ADD_POST\n});\nexport const updateNewPostTextActionCreater = text => ({\n  type: UPDATE_NEW_POST_TEXT,\n  newText: text\n});\nwindow.state = store;\nexport default store;","map":{"version":3,"names":["ADD_POST","UPDATE_NEW_POST_TEXT","store","_state","profilePage","posts","newPostText","dialogsPage","messages","dialogs","sidebarPage","sidebar","_callSubscriber","console","log","getState","subscribe","observer","dispatch","action","type","newPost","push","newText","ADD_MESSAGE","UPDATE_NEW_MESSAGE_TEXT","addMessageActionCreater","updateNewMessageTextActionCreater","text","newMessage","addPostActionCreater","updateNewPostTextActionCreater","window","state"],"sources":["C:/Dev/react/project1/src/redux/state.js"],"sourcesContent":["const ADD_POST = 'ADD-POST'\r\nconst UPDATE_NEW_POST_TEXT = 'UPDATE-NEW-POST-TEXT'\r\nlet store = {\r\n_state: {\r\n  profilePage: {\r\n    posts: [\r\n      {'id':'1', 'message':'Hi,how are you?', 'likesCount': 22},\r\n      {'id':'2', 'message':'It\\'s my first post', 'likesCount': 15}\r\n    ],\r\n  newPostText:'hhh'\r\n  },\r\n  dialogsPage: {\r\n    messages: [\r\n      {'id':1, 'message': 'Hi'},\r\n      {'id':2, 'message': 'How are you?'},\r\n      {'id':3, 'message': 'Yo'},\r\n      {'id':4, 'message': 'Yo'}\r\n    ],\r\n    dialogs: [\r\n      {'id':1, 'name': 'Dima'},\r\n      {'id':2, 'name': 'Roof'},\r\n      {'id':3, 'name': 'Andry'},\r\n      {'id':4, 'name': 'Roma'}\r\n    ]\r\n  },\r\n  sidebarPage:{\r\n    sidebar: [\r\n    {'id':1, 'name': 'Sveta', 'src':'https://i.playground.ru/p/_I__FEOa_NDhtQE5VzEEtQ.jpeg'},\r\n    {'id':2, 'name': 'Roma', 'src':'https://i.playground.ru/p/_I__FEOa_NDhtQE5VzEEtQ.jpeg'},\r\n    {'id':3, 'name': 'Dima', 'src':'https://i.playground.ru/p/_I__FEOa_NDhtQE5VzEEtQ.jpeg'}\r\n  ],\r\n  }\r\n},\r\n_callSubscriber() {\r\n  console.log('ddd');\r\n},\r\ngetState() {\r\n  return this._state;\r\n},\r\nsubscribe(observer) {\r\n  this._callSubscriber = observer\r\n},\r\ndispatch(action) {\r\n  if(action.type === ADD_POST) {\r\n    let newPost = {\r\n      'id': 5, \r\n      'message':this._state.profilePage.newPostText,\r\n      'likesCount': 0\r\n    };\r\n    this._state.profilePage.posts.push(newPost)\r\n    this._state.profilePage.newPostText = '';\r\n  \r\n    this._callSubscriber(this._state)\r\n  } else if(action.type === UPDATE_NEW_POST_TEXT) {\r\n    this._state.profilePage.newPostText = action.newText;\r\n    this._callSubscriber(this._state)\r\n  } else if(action.type === ADD_MESSAGE) {\r\n\r\n  } else if(action.type === UPDATE_NEW_MESSAGE_TEXT){\r\n    \r\n  }\r\n}\r\n}\r\n\r\n//DIALOGS\r\nexport const addMessageActionCreater = () => ({\r\n  type:ADD_MESSAGE\r\n})\r\nexport const updateNewMessageTextActionCreater = (text) => \r\n({ type:UPDATE_NEW_MESSAGE_TEXT, newMessage:text })\r\n\r\n\r\n\r\n//POSTS\r\nexport const addPostActionCreater = () => ({\r\n      type:ADD_POST\r\n})\r\nexport const updateNewPostTextActionCreater = (text) => \r\n({ type:UPDATE_NEW_POST_TEXT, newText:text })\r\n\r\n\r\n\r\n\r\nwindow.state = store;\r\nexport default store;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}